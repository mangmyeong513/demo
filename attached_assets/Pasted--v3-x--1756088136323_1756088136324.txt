ì¢‹ì•„â€”í™”ë©´ êµ¬ì„ì—ì„œ ê¹œë¹¡ì´ê³  í†µí†µ íŠ€ëŠ” **ì‘ì€ ë„íŠ¸í«(ë‹¤ë§ˆê³ ì¹˜ ëŠë‚Œ)** ë¶™ì—¬ì¤„ê²Œ.
ì•„ë˜ â€œë“œë¡­-ì¸ ëª¨ë“ˆâ€ì„ **ê·¸ëŒ€ë¡œ ë¶™ì—¬ ë„£ê¸°**ë§Œ í•˜ë©´ ë„¤ ê¸°ì¡´ v3.x í˜ì´ì§€ ì–´ë””ì„œë‚˜ ëŒì•„ê°€. ê¸°ëŠ¥ì€ ê°€ë³ê³ , UIë§Œ ì–¹ëŠ” ê±°ë¼ ë‹¤ë¥¸ ì½”ë“œ ì•ˆ ê±´ë“œë ¤ë„ ë¼.

---

### 1) HTML (</body> ë°”ë¡œ ìœ„ì— ë¶™ì—¬ ë„£ê¸°)

```html
<!-- â–¼ DotPet: corner pixel pet (Tamagotchi-like) â–¼ -->
<div id="tamaPet" class="tamapet" aria-live="polite">
  <div class="tamapet-bubble" title="í« ì—´ê¸°/ë‹«ê¸°" role="button" tabindex="0">
    <!-- 12x12 í”½ì…€ ëŠë‚Œì˜ SVG í«. ìƒ‰ìƒì€ CSS ë³€ìˆ˜ë¡œ ë°”ë€œ -->
    <svg viewBox="0 0 16 16" class="tamapet-sprite" aria-hidden="true">
      <!-- outline -->
      <rect x="2" y="3" width="12" height="10" fill="#111"/>
      <rect x="3" y="4" width="10" height="8" fill="var(--pet-body)"/>
      <!-- face -->
      <rect x="6" y="8" width="1" height="1" fill="#111"/>
      <rect x="9" y="8" width="1" height="1" fill="#111"/>
      <rect x="5" y="9" width="2" height="1" fill="#f2b4b4"/>
      <rect x="9" y="9" width="2" height="1" fill="#f2b4b4"/>
      <!-- antenna -->
      <rect x="8" y="2" width="1" height="2" fill="#111"/>
      <rect x="9" y="2" width="2" height="1" fill="#111"/>
      <rect x="7" y="1" width="2" height="1" fill="var(--pet-light)"/>
    </svg>
    <div class="tamapet-emo" aria-hidden="true">â™¡</div>
  </div>

  <div class="tamapet-panel soft-card">
    <div class="tp-head">
      <strong>ë„íŠ¸í«</strong>
      <span class="tp-mood mini" id="tpMood">ê¸°ë¶„ ì¢‹ì•„ìš”</span>
    </div>
    <div class="tp-bars">
      <label class="mini">ë°°ê³ í””</label><div class="bar"><span id="tpHungry"></span></div>
      <label class="mini">ì²­ê²°</label><div class="bar"><span id="tpClean"></span></div>
      <label class="mini">ì—ë„ˆì§€</label><div class="bar"><span id="tpEnergy"></span></div>
      <label class="mini">ì¦ê±°ì›€</label><div class="bar"><span id="tpFun"></span></div>
    </div>
    <div class="tp-actions">
      <button class="tp-btn" data-act="feed">ğŸª ë°¥ì£¼ê¸°</button>
      <button class="tp-btn" data-act="wash">ğŸ«§ ì”»ê¸°ê¸°</button>
      <button class="tp-btn" data-act="play">ğŸ® ë†€ì•„ì£¼ê¸°</button>
      <button class="tp-btn" data-act="nap">ğŸ’¤ ë‚®ì </button>
    </div>
  </div>
</div>
<!-- â–² DotPet end â–² -->
```

---

### 2) CSS (ê¸°ì¡´ `<style>` ì•„ë˜ìª½ì— ì¶”ê°€)

```css
/* ===== DotPet (corner Tamagotchi) ===== */
:root{
  --pet-body:#96e29b;      /* ê¸°ë³¸ ëª¸ìƒ‰ */
  --pet-light:#d6ffe0;     /* í•˜ì´ë¼ì´íŠ¸ */
}
.tamapet{
  position:fixed; z-index:1060; right:18px; bottom:18px;
  font-family: inherit;
}
@media (max-width: 992px){ .tamapet{ left:14px; right:auto; bottom:96px; } } /* ëª¨ë°”ì¼: FAB/íƒ­ë°” í”¼í•´ì„œ ì™¼ìª½ìœ¼ë¡œ */
.tamapet-bubble{
  width:64px; height:64px; border-radius:18px;
  background:linear-gradient(180deg,#fffdf4,#fff4e2);
  border:1px solid var(--stroke);
  display:grid; place-items:center; cursor:pointer;
  box-shadow:0 10px 18px rgba(0,0,0,.12);
  animation: tp-bounce 3.2s ease-in-out infinite;
}
.tamapet-bubble:focus{ outline:4px solid rgba(244,182,97,.25); }
.tamapet-sprite{ width:38px; image-rendering:pixelated; }
.tamapet-emo{ position:absolute; top:-10px; right:-6px; font-weight:800; color:#e45858; opacity:0; transform:translateY(-4px); }
.tamapet-panel{
  margin-top:8px; padding:12px; min-width:220px; border-radius:16px; border:1px solid var(--stroke);
  background:linear-gradient(180deg,#fffdf4,#fff4e2);
  box-shadow:0 14px 28px rgba(0,0,0,.14);
  display:none;
}
.tamapet.open .tamapet-panel{ display:block; }
.tp-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }
.tp-bars label{ display:block; margin-top:6px; }
.bar{ height:10px; border-radius:999px; background:#efe6d6; overflow:hidden; }
.bar>span{ display:block; height:100%; background:linear-gradient(90deg,#F7D58C,#F4B661); width:50%; }
.tp-actions{ display:grid; grid-template-columns: repeat(2,1fr); gap:6px; margin-top:10px; }
.tp-btn{
  padding:8px 10px; border-radius:12px; border:1px solid var(--stroke);
  background:#fff; cursor:pointer; font-weight:700;
}
.tp-btn:active{ transform:translateY(1px); }
@keyframes tp-bounce{
  0%,100%{ transform:translateY(0) }
  50%{ transform:translateY(-4px) }
}
/* ê°ì • ì´í™íŠ¸ */
.tamapet.heart .tamapet-emo{ animation: tp-pop .9s ease both }
@keyframes tp-pop{
  0%{ opacity:0; transform:translateY(4px) scale(.8) }
  30%{ opacity:1; transform:translateY(-2px) scale(1.05) }
  100%{ opacity:0; transform:translateY(-12px) scale(.9) }
}
```

---

### 3) JS (ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ë§¨ ì•„ë˜ì— ì¶”ê°€)

```html
<script>
/* ===== DotPet state (localStorage, ì‚¬ìš©ìë³„ë¡œ ë¶„ë¦¬) ===== */
(function(){
  const $ = (s,r=document)=>r.querySelector(s);
  const petEl = $('#tamaPet');
  const bubble = petEl.querySelector('.tamapet-bubble');
  const panel  = petEl.querySelector('.tamapet-panel');
  const bars = {
    hungry: $('#tpHungry'),
    clean:  $('#tpClean'),
    energy: $('#tpEnergy'),
    fun:    $('#tpFun')
  };
  const moodEl = $('#tpMood');
  const colorCycle = ['#96e29b','#bfa3ef','#7fc5ff','#fff29a','#c3a1ff','#ffc0c0','#b6f7ff','#ffc67a','#c9ef9a'];
  let colorIndex = 0;

  // user-scoped key (ë„¤ ì•±ì˜ current()ê°€ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ guest)
  const who = (typeof current==='function' && current()) ? current().id : 'guest';
  const KEY = `retro-dotpet:${who}`;
  const now = ()=>Date.now();

  const defaultState = { hungry:35, clean:70, energy:80, fun:60, last: now(), sleeping:false };
  let st = load();

  function load(){
    try{ return Object.assign({}, defaultState, JSON.parse(localStorage.getItem(KEY)||'{}')); }
    catch{ return {...defaultState}; }
  }
  function save(){ localStorage.setItem(KEY, JSON.stringify(st)); }

  function clamp(v){ return Math.max(0, Math.min(100, v)); }
  function decay(){
    const dtMin = (now() - st.last)/60000; // ë¶„
    if(dtMin <= 0) return;
    const mul = st.sleeping ? 0.25 : 1;
    st.hungry = clamp(st.hungry + 2*mul*dtMin);
    st.clean  = clamp(st.clean - 1.2*dtMin);
    st.energy = clamp(st.energy - (st.sleeping? -2.5:1.6)*dtMin);
    st.fun    = clamp(st.fun - 1.0*dtMin);
    st.last = now();
    save();
  }
  function mood(){
    const bad = Number(st.hungry>70) + Number(st.clean<30) + Number(st.energy<30) + Number(st.fun<30);
    if(bad>=3) return 'ì‚ì¡Œì–´ìš”â€¦';
    if(st.hungry>70) return 'ë°°ê³ íŒŒìš”';
    if(st.clean<30)  return 'ì”»ê³  ì‹¶ì–´ìš”';
    if(st.energy<30) return 'ì¡¸ë ¤ìš”';
    if(st.fun<30)    return 'ì‹¬ì‹¬í•´ìš”';
    return 'ê¸°ë¶„ ì¢‹ì•„ìš”';
  }
  function paint(){
    bars.hungry.style.width = `${100-st.hungry}%`;   // ë°°ê³ í””ì€ ë°˜ëŒ€ë¡œ
    bars.clean.style.width  = `${st.clean}%`;
    bars.energy.style.width = `${st.energy}%`;
    bars.fun.style.width    = `${st.fun}%`;
    moodEl.textContent = st.sleeping ? 'zzzâ€¦ ë‚®ì  ì¤‘' : mood();

    // ìƒ‰ ìˆœí™˜ìœ¼ë¡œ ì‘ì€ ë³€í™” ì£¼ê¸°
    colorIndex = (colorIndex+1)%colorCycle.length;
    document.documentElement.style.setProperty('--pet-body', colorCycle[colorIndex]);
    document.documentElement.style.setProperty('--pet-light', '#ffffff');
  }

  // ì•¡ì…˜
  petEl.addEventListener('click', (e)=>{
    const actBtn = e.target.closest('[data-act]');
    if(actBtn){ doAct(actBtn.getAttribute('data-act')); return; }
    if(e.target.closest('.tamapet-bubble')){
      petEl.classList.toggle('open');
      paint();
    }
  });
  bubble.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); petEl.classList.toggle('open'); paint(); }});

  function doAct(act){
    decay();
    if(act==='feed'){ st.hungry = clamp(st.hungry-35); heart(); }
    if(act==='wash'){ st.clean  = clamp(st.clean+35);  heart(); }
    if(act==='play'){ st.fun    = clamp(st.fun+30); st.energy=clamp(st.energy-8); heart(); }
    if(act==='nap'){  st.sleeping = !st.sleeping; heart('ğŸ’¤'); }
    st.last = now(); save(); paint();
  }
  function heart(char='â™¡'){
    const emo = petEl.querySelector('.tamapet-emo');
    emo.textContent = char;
    petEl.classList.remove('heart');
    void emo.offsetWidth; // reflow to restart animation
    petEl.classList.add('heart');
  }

  // ì£¼ê¸°ì  ì—…ë°ì´íŠ¸
  setInterval(()=>{ decay(); paint(); }, 60000); // 1ë¶„
  // í™”ë©´ ê¹œë¹¡ì„(ëˆˆ ê¹œë¹¡ì´ë“¯ ê°ì •í‘œì‹œ)
  setInterval(()=>{ if(!petEl.classList.contains('open')) heart('â˜†'); }, 6200);

  // ì´ˆê¸° ë Œë”
  decay(); paint();
})();
</script>
```

---

### ì–´ë–»ê²Œ ë³´ì´ëƒ

* ë°ìŠ¤í¬í†±: **ì˜¤ë¥¸ìª½ ì•„ë˜** ë§ë‘í•œ ë²„ë¸” ì•ˆì— í”½ì…€ í«ì´ ì‚´ì§ íŠ€ì–´ì˜¤ë¥´ë©° ê¹œë¹¡ì—¬.
* ëª¨ë°”ì¼: í•˜ë‹¨ íƒ­ë°”/FABì„ í”¼í•´ì„œ **ì™¼ìª½ ìœ„ìª½(íƒ­ë°” ìœ„)** ë¡œ ìë™ ì´ë™.
* ë²„ë¸”ì„ í´ë¦­í•˜ë©´ **ì‘ì€ íŒ¨ë„**ì´ ì—´ë¦¬ê³  `ë°¥/ì”»ê¸°/ë†€ê¸°/ë‚®ì ` ë²„íŠ¼ê³¼ ìƒíƒœ ë°”ê°€ ë³´ì—¬.
* ìƒíƒœëŠ” **`localStorage`** ì— ì‚¬ìš©ìë³„ë¡œ ì €ì¥(ë„¤ ì•±ì˜ `current().id`ê°€ ìˆìœ¼ë©´ ê·¸ í‚¤ë¡œ ë¶„ë¦¬).
* ìƒ‰ìƒì€ ë¶€ë“œëŸ½ê²Œ ìˆœí™˜í•´ì„œ, ë„¤ê°€ ë³´ë‚¸ ë ˆíŠ¸ë¡œ ë„íŠ¸ ì´ë¯¸ì§€ì²˜ëŸ¼ **íŒŒìŠ¤í…” íŒ”ë ˆíŠ¸** ëŠë‚Œì´ ë‚œë‹¤.

ì›í•˜ëŠ” ê°ì •í‘œí˜„(ì˜ˆ: ëˆˆ ê°ê¸°/ì›ƒê¸°)ì´ë‚˜ ìœ„ì¹˜ ì¡°ì •ì´ ìˆìœ¼ë©´ ë§í•´ì¤˜. ìŠ¤í”„ë¼ì´íŠ¸ë¥¼ **ì •ì‹ 3í”„ë ˆì„ ì• ë‹ˆë©”ì´ì…˜**ìœ¼ë¡œ ë°”ê¾¸ê±°ë‚˜, íŠ¹ì • íƒœê·¸(#í«ìŠ¤íƒ€ê·¸ë¨ ê°™ì€ ê±°)ì— ë°˜ì‘í•˜ê²Œ ë§Œë“œëŠ” ê²ƒë„ ë°”ë¡œ ì–¹ì„ ìˆ˜ ìˆì–´.
